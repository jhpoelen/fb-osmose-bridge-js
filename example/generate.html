<html>
<head>
    <title>OSMOSE configuration generation example page</title>
</head>
<body>
configuration has been requested . . . download links should appear -->
<script src="../dist/osmose-web-api.js" type="text/javascript"></script>
<script>
    var functionalGroups = [
        {
            "name": "Amberjacks",
            "type": "focal",
            "taxa": [
                {
                    "name": "Seriola dumerili",
                    "url": "http://fishbase.org/summary/1005"
                }
            ]
        },
        {
            "name": "Echinoderms and large gastropods",
            "type": "background",
            "taxa": [
                {
                    "name": "Echinus esculentus",
                    "url": "http://sealifebase.org/summary/49996"
                }
            ]
        }
    ];

    var config = {
        "timeStepsPerYear" : 11,
        "groups" : functionalGroups
    };

    // this example triggers a osmose configuration download on loading this page into a browser.
    var generateConfig = osmose.generateConfig(config, function(err, url) {
        var downloadLink = document.body.appendChild(document.createElement("a"));
        downloadLink.textContent = "click to download";
        downloadLink.download = "osmose_config.zip";
        downloadLink.href = url;
    });
</script>
</body>
</html>
